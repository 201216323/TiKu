# Android Studio 的 10 个你很有可能不知道的技巧

Android Studio 是每一个 Android 开发每天都要使用的工具，但是即使你是一个经验丰富的开发人员，你也可能已经错过了许多可以节约生命的技巧，这篇文章也许就可以帮助你掌握它们其中的一部分。我不会一字一句地翻译，而是以最简洁易懂的方式介绍给你，同时提供必要的注解和延伸，让你可以在一遍快速阅读之后迅速掌握。



## 当你想不起来某个功能怎么用的时候

如果你是 Windows/Linux 用户, 那么请按**Ctrl + Shift + A**， 如果你是 Mac 用户，那么请按**Command + Shift + A**，在这个万能的输入框内可以输入你想要执行的操作（当然是英文），列表中会显示对应的可选操作以及快捷键。不仅仅是操作，如果你只是想改变某个设置的时候，也可以使用这个功能，例如你想设置**Gradle**为 **offline work** 的话，可以在输入框输入**offline**，对应的的结果中选择**Toggle Offline Work**即可，再比如你需要打开粘贴代码时候的**Auto Import**功能，那么也只要在输入框中输入**Auto Import**然后选择对应项即可。

![image](http://www.apkbus.com/data/attachment/album/201609/18/094842z07jhfhamhhf4jd4.gif)

## 修改快捷键

在 Android Studio 中所有快捷键都是可以自定义的。请唤起伟大的**Ctrl + Shift + A**，输入**keymap**，选择位于**Settings > Keymap**的那个选项，这里能看到所有的快键键，一般不建议在原有快捷键方案上直接修改快捷键，而是拷贝一份现有的方案再在上面改，在**Keymaps**的下拉框中选择一份现有的方案（默认为 Default），点击右边的**Copy**，然后在列表中需要修改的快捷键的项目上右键，选择**Add Keyboard Shortcut**，然后就可以设置自己喜欢的快捷键了，如果设置的快捷键与其它按键有冲突，会以红色错误信息提示。

![image](http://prototypez.github.io/images/android-studio-shortcut-setting.gif)

由于列表中快捷键数量比较多，所以我们还可以利用右边的搜索框进行搜索，例如需要修改基本自动补全的快捷键我们只要输入**Basic**，就可以在结果中找到对应的项了。

## 你需要了解的自动补全

一般使用 Android Studio 的时候，自动提示会在你想要提示的时候自动出现，比如输入**Log.**，就会提示一堆比如**Log.d()**, **Log.e**, **Log.i()**。不过如果你在自动提示的时候手一抖选错的话，比如想选 **Log.d()** 结果选了 **Log.e()** ，你是不是会把  **.e()** 都删掉，然后再输入一个 **.**，其实遇到这种需要重新手动呼起自动补全的情形只需要使用 **Ctrl + Alt + 空格**就可以了。

![image](http://prototypez.github.io/images/android-studio-auto-completion.gif)

其实还有两种方法：一是基本补全 **Ctrl + 空格** ，然而 Windows 用户表示不开心，因为这和 Windwos 系统切换输入法快捷键冲突，如果你不想修改这个快捷键，那么使用 **Ctrl + Alt + 空格**    作为替代，如果你想修改这个快键键，那么你可以使用上一小节的方法设置新的快捷键，在Keymaps界面搜索Basic，然后在过滤后的结果中选择 **Code->Completion->Basic** 进行设置；另一种方法是智能补全 **Ctrl + Shift + 空格** , 不过智能补全远远不止这个功能，当你调用方法时，可以使用智能补全在当前上下文联想符合该方法形参类型的变量。

## 在自动提示以后使用 Tab 键替换当前的方法或值

如果我们手动呼出自动补全的时候，当前位置已经有对应的方法或者变量（比如原来调用Obj的A方法，然后我们把光标定位到A方法的位置，呼出自动补全，希望自动补全的B方法代替A方法），这时候如果我们选中补全的的项目，按下回车，那么补全的内容会插入到原来内容的前面，这不是我们想要的内容，其实这时候不应该按回车，而是 **Tab** 。


## 当你写完了一行代码

这种情况非常常见，当你写完一行代码的时候，光标并不在当前行的末尾，比较常见的是光标右边还有 N 个 右括号，这时候你会怎么办？可能你会使用方向键把光标移动到行末，然后手动输入一个;。其实有更简单的方案，那就是**Ctrl + Shift + 回车**，这个快捷键会帮助你自动补全当前表达式所缺的部分，包括在行末输入;，值得一提的是，该快捷键对**if，else，for，while**控制循环同样有效。

![image](http://www.apkbus.com/data/attachment/album/201609/18/094937adukd63iiv23q72p.gif)

还有一种情况，光标并不在行尾，但是你希望可以在下一行插入一个空行，Shift + 回车可以帮你完成这个任务。

## 三个定位的小技巧

使用 4 个方向键定位光标是我们最熟悉的方法，但是其实可以更方便的。在按方向键的同时按住**Ctrl**，可以一个单词一个单词移动；在按上下键的同时按住**Alt**, 可以一个节点（方法或者字段）一个节点移动；如果在按上下键的同时按住**Shift + Ctrl**，可以把当前行和上下行交换位置。

## 根据后缀自动生成的代码模板

日常使用编辑器的过程中，有很多固定格式的写法，例如**if-else, for** 等等，使用代码模板可以更快得帮助我们生成期望的代码。举个例子，先输入一个集合类型的变量并且加上后缀**.fori**，这时候自动提示会提示按照该集合类型生成**for**循环，同理，布尔类型的表达式加上**.if**后缀也可以生成以该表达式为条件的if语句。

![image](http://www.apkbus.com/data/attachment/album/201609/18/095010hc5tyyejafqiij8j.gif)

实际上，上面这两种代码模板是 **IntelliJ** 自带的，Android Studio 还提供了许多与 Android 有关的代码模板，比如生成 **Toast** 和 **Parcelable** 的模板，查看所有可用模板以及自定义模板的方法是首先 **Ctrl + Shift + A** 呼出万能的搜索框，输入 **Live templates** ，选择位于 **Settings** 的 **Live Templates** ，在这里就可以看到所有可用的代码模板。

## Debug 时自定义对象显示的技巧

在调试代码的时候，我们常常需要查看一个对象的值。尤其是自定义的对象，我们常常没有实现它的 **toString** 方法，那么这个对象在 IDE 的值就是 **ClassName:HashValue** 这个样子。我们需要点开这个对象查看它里面各个成员的值。在不实现 **toString** 方法的情况下其实有更好的方法。在 Debug 的 **Variable** 窗口中右键需要查看的对象，选择 **View as** ，既可以设置该对象在 Debug 状态下显示的方式。

![image](http://www.apkbus.com/data/attachment/album/201609/18/095033ibfevaw1e7f1y6bw.gif)

总结